<div class="row" *ngIf="!showError">
  <h2>Connect Accounts</h2>
  <p>
    This component can be used to facilitate a user connecting their bank
    account via Open Banking
  </p>

  <certua-ob-connect
    [contentOverrides]="contentOverrides"
    [contextData]="contextTokenOptions"
    [redirectionConfig]="redirectionConfig"
    [startingPhase]="'InstitutionSelection'"
  >
    <span slot="button" class="ml-auto"></span>
  </certua-ob-connect>
</div>
<div>
  <h4>Example code</h4>
  <pre><code>
    &lt;certua-ob-connect 
      [contentOverrides]="contentOverrides"
      [redirectionConfig]="redirectionConfig"
      [contextData]="contextData"&gt;
      [startingPhase]="'InstitutionSelection'"
    &lt;/certua-ob-connect&gt;
    </code>
  </pre>
  <table class="table">
    <thead>
      <th>Property Name</th>
      <th>Mandatory</th>
      <th>Description</th>
    </thead>
    <tbody>
      <tr>
        <td>contextData</td>
        <td>Yes</td>
        <td>
          This is a JSON string which contains your context token and user
          reference. <br />
          <pre><code>
             {{ 
              '{"contextToken":"FF5D16AAE1ED74E4C8F0E8B6D9E2EB06","ownerId":"1","dateCreated":"2023-03-20T11:17:24.121Z"}'}}
          </code></pre>
        </td>
      </tr>
      <tr>
        <td>redirectionConfig</td>
        <td>Yes</td>
        <td>
          This is a JSON string which contains the success or failure
          redirection Urls, which are used after the connection to the bank.<br />
          <pre><code
            > {{ redirectionConfig | json }}</code
          ></pre>
        </td>
      </tr>
      <tr>
        <td>contentOverrides</td>
        <td>No</td>
        <td>
          This is a JSON string which contains any text overrides that you want
          to pass to the information screens/modals<br />
          <pre><code>
             {{contentOverrides | json}}
          </code></pre>
        </td>
      </tr>
      <tr>
        <td>startingPhase</td>
        <td>No</td>
        <td>
          This is a string which controls the starting screen when connecting
          accounts, this can be <code>AccountList</code> or
          <code>InstitutionSelection</code>.
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="row" *ngIf="showError">
  <div class="col">
    <h3>You do not have a context token</h3>
    <a [routerLink]="'/'">Home</a>
  </div>
</div>
